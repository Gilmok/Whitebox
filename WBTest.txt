class VarInfo
{
   String name;
   String type;
   int access;
   int nDimensions;
   int startLine;
   int endLine;
   
   VarInfo(String in, int lineNo)
   {
      startLine = lineNo;
      endLine = lineNo;
      
      access = WhiteboxUtils.getAccessLevel(in);
      in = WhiteboxUtils.removeAccessModifiers(in);
      
      String temp = in;
      try
      {
         temp = temp.substring(0, temp.indexOf(';'));
         temp = temp.substring(0, temp.indexOf('='));
      }
      catch(StringIndexOutOfBoundsException ex)
      {}
      temp.trim();
      
      String[] vardecl = temp.split(" ");
      type = vardecl[0];
      name = vardecl[1];
      
      nDimensions = countDimensions();
      
   }
   
   VarInfo(String type, String name, int lineNo)
   {
      this.type = type;
      this.name = name;
      nDimensions = countDimensions();
      startLine = endLine = lineNo;
   }
   
   private int countDimensions()
   {
      String glob = type + name;
      int bracketLevel = 0;
      int nDims = 0;
      for(int i = 0; i < glob.length(); i++)
      {
         if(glob.charAt(i) == '[')
            bracketLevel++;
         else if(glob.charAt(i) == ']')
         {
            bracketLevel--;
            if(bracketLevel == 0)
               nDims++;
         }
      }
      return nDims;
   }
}
